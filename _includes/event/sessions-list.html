<!-- sessions -->
{% assign year = include.year %}

{% if site.data[year]sessions == null %}
<p class="grey-text text-darken-2 light flow-text">No Information Available</p>

{% else %}
<!-- begin session navigation  -->
<div id="sessions">
  <div class="row">
    <!-- list search -->
    <div class="input-field col s12 m8">
      <input id="search" class="search" type="text" />
      <label for="search"><i class="material-icons left">search</i>Search by keyword</label>
    </div>
    <!-- list sort -->
    <div class="input-field col s12 m4">
      <select id="sort-sessions" onchange="changeValue();">
        <option value="presenter" class="active selected">Presenter</option>
        <option value="session">Session</option>
        <option value="strand">Strand</option>
        <option value="title">Title</option>
        <option value="vendor">Vendor</option>
      </select>
      <label>Sort by:</label>
    </div>
  </div>
  <div class="row">
    <button class="btn waves-effect waves-light" onclick="window.print()">
      <i class="material-icons left">print</i>Print Full Session List</button>
  </div>
  <div class="row">
    <div class="collection">
      <!-- IMPORTANT, class="list" have to be at tbody -->
      <span class="list">
        {% for data in site.data[year]sessions %}
        <a href="#{{ data.Timestamp | slugify }}-{{ data.Name | append: '-' | append: data.Session | slugify }}" class="modal-trigger collection-item avatar waves-effect">
          {% if data.Vendor == 'Yes' %}
          <i class="material-icons circle vendor">store</i>
          {% endif %}
          <p class="strand"><strong>{{ data.Conference-Strand }}</strong></p>
          <p class="title">{{ data.Presentation-Title }}</p>          
          <p class="presenter"><em>{{ data.Name }}</em></p>
          <span class="secondary-content session">{{ data.Session | prepend: "Session " }}</span>
          <span class="hide abstract">{{ data.Presentation-Abstract | strip_newlines }}</span>
          <span class="hide description">{{ data.Presentation-Description | strip_newlines }}</span>
          <span class="hide objectives">{{ data.Objectives | markdownify }}</span>
        </a>
        {% endfor %}
      </span>
    </div>
  </div>
</div>
{% endif %}

<!-- JS -->
<script src="//cdnjs.cloudflare.com/ajax/libs/list.js/1.2.0/list.min.js"></script>
<script>
  var options = {
    valueNames: [ 'abstract', 'description', 'presenter', 'session', 'strand', 'title', 'vendor' ]
  };

  var userList = new List('sessions', options);
</script>
<script>
  function changeValue(){
    var option=document.getElementById('sort-sessions').value;	
    if(option=="presenter"){
      userList.sort('presenter', { order: "asc" });
    }
    else if(option=="session"){
      userList.sort('session', { order: "asc" });
    }
    else if(option=="strand"){
      userList.sort('strand', { order: "asc" });
    }
    else if(option=="title"){
      userList.sort('title', { order: "asc" });
    }
    else if(option=="vendor"){
      userList.sort('vendor', { order: "desc" });
    }
  }
</script>